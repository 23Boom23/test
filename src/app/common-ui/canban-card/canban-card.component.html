<div class="card" (mouseleave)="handleMouseLeave()" [ngClass]="{
  'in-progress': card?.inProgressCard,
  'on-pause': card?.onPause
}" >
  <div class="kanban-card">
    @if (!showTitle) {
      <div class="card-title" (mouseenter)="onMouseEnterOnTitle()">
        <i class="card-icon">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="8" cy="8" r="8" fill="#52A7AC"/>
            <path d="M2.04688 8.17969C2.04688 8.09115 2.06641 8.00261 2.10547 7.91407C2.14453 7.82553 2.20312 7.7461 2.28125 7.67579L4.66406 5.52735C4.80469 5.39974 4.95964 5.33985 5.12891 5.34766C5.30078 5.35287 5.44661 5.42188 5.56641 5.55469C5.6888 5.69011 5.74349 5.84375 5.73047 6.01563C5.72005 6.1849 5.64583 6.33204 5.50781 6.45704L3.60547 8.17969L5.50781 9.89844C5.64583 10.0234 5.72005 10.1719 5.73047 10.3438C5.74349 10.513 5.6888 10.6654 5.56641 10.8008C5.44661 10.9362 5.30078 11.0065 5.12891 11.0117C4.95964 11.0169 4.80469 10.9557 4.66406 10.8281L2.28125 8.67969C2.20312 8.60938 2.14453 8.53125 2.10547 8.44532C2.06641 8.35678 2.04688 8.26823 2.04688 8.17969ZM6.87891 12.0234C6.69922 11.974 6.57161 11.8737 6.49609 11.7227C6.42057 11.5716 6.41016 11.405 6.46484 11.2227L8.33984 4.79297C8.39453 4.60547 8.49479 4.47136 8.64062 4.39063C8.78906 4.3099 8.95182 4.29428 9.12891 4.34375C9.30599 4.39323 9.43359 4.49219 9.51172 4.64063C9.59245 4.78907 9.60547 4.95053 9.55078 5.125L7.67188 11.5742C7.61719 11.7565 7.51562 11.8893 7.36719 11.9727C7.21875 12.0586 7.05599 12.0755 6.87891 12.0234ZM13.9492 8.17969C13.9492 8.26823 13.9297 8.35678 13.8906 8.44532C13.8516 8.53125 13.793 8.60938 13.7148 8.67969L11.3359 10.8281C11.1927 10.9557 11.0352 11.0169 10.8633 11.0117C10.694 11.0065 10.5495 10.9362 10.4297 10.8008C10.3073 10.6654 10.2513 10.513 10.2617 10.3438C10.2747 10.1719 10.3503 10.0234 10.4883 9.89844L12.3906 8.17969L10.4883 6.45704C10.3503 6.33204 10.2747 6.1849 10.2617 6.01563C10.2513 5.84375 10.3073 5.69011 10.4297 5.55469C10.5495 5.42188 10.694 5.35287 10.8633 5.34766C11.0352 5.33985 11.1927 5.39974 11.3359 5.52735L13.7148 7.67579C13.793 7.7461 13.8516 7.82553 13.8906 7.91407C13.9297 8.00261 13.9492 8.09115 13.9492 8.17969Z" fill="white"/>
          </svg>

        </i>
        {{ card.title }}</div>
    } @else {
      <app-canban-tittle [title]="card.title" class="card-title"></app-canban-tittle>
    }

    <div class="card-id">{{ card.id }}</div>

    <div *ngIf="!showButtons">
      <div class="card-progress" (mouseenter)="handleMouseEnter()">
        <app-progress-bar [progress]="card.progress"></app-progress-bar>
      </div>

      <div class="card-author" (mouseenter)="handleMouseEnter()">
        <i class="icon-work">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.25293 15.1829C2.43522 15.1829 1.82064 14.9797 1.40918 14.5735C1.00293 14.1724 0.799805 13.5683 0.799805 12.761V3.22192C0.799805 2.41463 1.00293 1.81047 1.40918 1.40942C1.82064 1.00317 2.43522 0.800049 3.25293 0.800049H12.7295C13.5472 0.800049 14.1592 1.00317 14.5654 1.40942C14.9769 1.81047 15.1826 2.41463 15.1826 3.22192V12.761C15.1826 13.5683 14.9769 14.1724 14.5654 14.5735C14.1592 14.9797 13.5472 15.1829 12.7295 15.1829H3.25293ZM3.26855 13.925H12.7139C13.0993 13.925 13.3962 13.8235 13.6045 13.6204C13.818 13.412 13.9248 13.1047 13.9248 12.6985V3.28442C13.9248 2.87817 13.818 2.57349 13.6045 2.37036C13.3962 2.16203 13.0993 2.05786 12.7139 2.05786H3.26855C2.87793 2.05786 2.57845 2.16203 2.37012 2.37036C2.16178 2.57349 2.05762 2.87817 2.05762 3.28442V12.6985C2.05762 13.1047 2.16178 13.412 2.37012 13.6204C2.57845 13.8235 2.87793 13.925 3.26855 13.925ZM3.94721 9.22361C4.38041 8.35722 4.96022 7.70325 5.61403 7.25357C5.53858 7.49476 5.5 7.74642 5.5 8C5.5 8.3283 5.56466 8.65339 5.6903 8.95671C5.81594 9.26002 6.00009 9.53562 6.23223 9.76777C6.46438 9.99991 6.73998 10.1841 7.04329 10.3097C7.34661 10.4353 7.6717 10.5 8 10.5C8.66304 10.5 9.29893 10.2366 9.76777 9.76777C10.2366 9.29893 10.5 8.66304 10.5 8C10.5 7.74449 10.4609 7.49302 10.386 7.25358C11.0398 7.70325 11.6196 8.35722 12.0528 9.22361C12.1763 9.4706 12.4766 9.57071 12.7236 9.44721C12.9706 9.32372 13.0707 9.02338 12.9472 8.77639C11.8681 6.61817 9.95156 5.5 8 5.5C6.04844 5.5 4.1319 6.61817 3.05279 8.77639C2.92929 9.02338 3.0294 9.32372 3.27639 9.44721C3.52338 9.57071 3.82372 9.4706 3.94721 9.22361ZM7.42597 6.61418C7.60796 6.5388 7.80302 6.5 8 6.5C8.39783 6.5 8.77936 6.65804 9.06066 6.93934C9.34196 7.22064 9.5 7.60217 9.5 8C9.5 8.39783 9.34196 8.77936 9.06066 9.06066C8.77936 9.34196 8.39783 9.5 8 9.5C7.80302 9.5 7.60796 9.4612 7.42597 9.38582C7.24399 9.31044 7.07863 9.19995 6.93934 9.06066C6.80005 8.92137 6.68956 8.75601 6.61418 8.57403C6.5388 8.39204 6.5 8.19698 6.5 8C6.5 7.80302 6.5388 7.60796 6.61418 7.42597C6.68956 7.24399 6.80005 7.07863 6.93934 6.93934C7.07863 6.80005 7.24399 6.68956 7.42597 6.61418Z" fill="#7E7E7E"/>
          </svg>

        </i>
        <img [src]="card.avatarUrl" alt="Avatar" class="author-avatar" />
        <span class="author-name">{{ card.author }}</span>
        <div class="card-time" (mouseenter)="handleMouseEnter()">
         <i><svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
           <path d="M2.60427 5.6285C2.48898 5.6285 2.39234 5.58948 2.31434 5.51145C2.23635 5.43342 2.19736 5.33842 2.19736 5.22646C2.19736 5.1145 2.23635 5.01951 2.31434 4.94148C2.39234 4.86344 2.48898 4.82443 2.60427 4.82443H4.59308V2.11196C4.59308 2 4.63208 1.905 4.71007 1.82697C4.78806 1.74894 4.88301 1.70992 4.99491 1.70992C5.11021 1.70992 5.20515 1.74894 5.27976 1.82697C5.35775 1.905 5.39674 2 5.39674 2.11196V5.22646C5.39674 5.33842 5.35775 5.43342 5.27976 5.51145C5.20515 5.58948 5.11021 5.6285 4.99491 5.6285H2.60427ZM5 10C4.31502 10 3.67074 9.86938 3.06714 9.60814C2.46355 9.3469 1.93116 8.98558 1.46999 8.52417C1.01221 8.06616 0.652764 7.5352 0.391658 6.9313C0.130553 6.3274 0 5.68278 0 4.99746C0 4.31213 0.130553 3.66921 0.391658 3.0687C0.652764 2.4648 1.01221 1.93215 1.46999 1.47074C1.93116 1.00933 2.46355 0.649703 3.06714 0.391858C3.67074 0.130619 4.31333 0 4.99491 0C5.67989 0 6.32418 0.130619 6.92777 0.391858C7.53137 0.649703 8.06205 1.00933 8.51984 1.47074C8.98101 1.93215 9.34215 2.4648 9.60326 3.0687C9.86775 3.66921 10 4.31213 10 4.99746C10 5.68278 9.86945 6.3274 9.60834 6.9313C9.34724 7.5352 8.9861 8.06616 8.52492 8.52417C8.06375 8.98558 7.53137 9.3469 6.92777 9.60814C6.32757 9.86938 5.68498 10 5 10ZM5 8.94656C5.54934 8.94656 6.06138 8.84478 6.53611 8.64122C7.01424 8.43766 7.43303 8.15606 7.79247 7.79644C8.15531 7.43342 8.43845 7.01272 8.64191 6.53435C8.84537 6.05598 8.9471 5.54368 8.9471 4.99746C8.9471 4.45123 8.84537 3.93893 8.64191 3.46056C8.43845 2.98219 8.15531 2.56319 7.79247 2.20356C7.43303 1.84054 7.01424 1.55725 6.53611 1.35369C6.05799 1.15013 5.54425 1.04835 4.99491 1.04835C4.44897 1.04835 3.93693 1.15013 3.4588 1.35369C2.98406 1.55725 2.56528 1.84054 2.20244 2.20356C1.843 2.56319 1.56155 2.98219 1.35809 3.46056C1.15463 3.93893 1.0529 4.45123 1.0529 4.99746C1.0529 5.54368 1.15463 6.05598 1.35809 6.53435C1.56155 7.01272 1.843 7.43342 2.20244 7.79644C2.56528 8.15606 2.98576 8.43766 3.46389 8.64122C3.94201 8.84478 4.45405 8.94656 5 8.94656Z" fill="#B0B0B0"/>
         </svg></i> {{ card.time }}
        </div>
      </div>
    </div>

    <div class="canban-buttons-container" *ngIf="showButtons">
      <app-canban-buttons
        [showFixButton]="true"
        [showWorkButton]="true"
        [showAcceptButton]="true">
      </app-canban-buttons>
    </div>
  </div>
</div>

